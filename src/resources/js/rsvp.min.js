var tribe_tickets_rsvp={num_attendees:0,event:{}};!function(t,e){"use strict";e.init=function(){this.$rsvp=t(".tribe-events-tickets-rsvp"),this.attendee_template=t(document.getElementById("tribe-tickets-rsvp-tmpl")).html(),this.$rsvp.on("change input keyup",".tribe-ticket-quantity",this.event.quantity_changed),this.$rsvp.closest(".cart").on("submit",this.event.handle_submission),t(".tribe-rsvp-list").on("click",".attendee-meta-row .toggle",function(){t(this).toggleClass("on").siblings(".attendee-meta-details").slideToggle()})},e.quantity_changed=function(e){var i=e.closest(".tribe-events-tickets-rsvp"),s=i.find(".tribe-ticket-quantity"),n=0;s.each(function(){n+=parseInt(t(this).val())}),0===n?i.removeClass("tribe-tickets-has-rsvp"):i.addClass("tribe-tickets-has-rsvp")},e.validate_submission=function(e){var i=e.find(".tribe-ticket-quantity"),s=0,n=t(document.getElementById("tribe-tickets-full-name")),a=t(document.getElementById("tribe-tickets-email"));return i.each(function(){s+=parseInt(t(this).val())}),!!(0!==s&&t.trim(i.val()).length&&t.trim(n.val()).length&&t.trim(a.val()).length)},e.event.quantity_changed=function(){e.quantity_changed(t(this))},e.event.handle_submission=function(i){if(!e.validate_submission(t(this).closest("form"))){i.preventDefault();var s=t(this).closest("form");return s.addClass("tribe-rsvp-message-display"),s.find(".tribe-rsvp-message-confirmation-error").show(),t("html, body").animate({scrollTop:s.offset().top},300),!1}},t(function(){e.init()})}(jQuery,tribe_tickets_rsvp);